!function(e){"use strict";function o(e,t){function n(e){if(s.transitions){if(e.target!=this)return;this.removeEventListener(a,n)}t&&"function"==typeof t&&t.call(this)}s.transitions?e.addEventListener(a,n):n()}var s={transitions:Modernizr.csstransitions},a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],l=document.querySelector(".pages-stack"),c=[].slice.call(l.children),r=c.length,d=0,f=document.querySelector("button.menu-button"),v=document.querySelector(".navbar-nav"),t=[].slice.call(v.querySelectorAll(".nav-link")),u=!1;function y(){for(var e=m(),t=0;t<r;++t){var n=c[t],s=e.indexOf(t);d!==t?(classie.add(n,"page--inactive"),-1!==s?(n.style.WebkitTransform="translate3d(0, 100%, 0)",n.style.transform="translate3d(0, 100%, 0)"):(n.style.WebkitTransform="translate3d(0, 75%, -250px)",n.style.transform="translate3d(0, 75%, -250px)"),n.style.height="100vh",n.style.overflow="hidden"):classie.remove(n,"page--inactive"),n.style.zIndex=t<d?parseInt(d-t):parseInt(r+d-t),n.style.opacity=-1!==s?parseFloat(1-.1*s):0}}function n(){if(u)i();else{classie.add(f,"menu-button--open"),classie.add(l,"pages-stack--open"),classie.add(v,"navbar-nav--open");for(var e=m(),t=0,n=e.length;t<n;++t){var s=c[e[t]];s.style.WebkitTransform="translate3d(0, 75%, "+parseInt(-150-50*t)+"px)",s.style.transform="translate3d(0, 75%, "+parseInt(-150-50*t)+"px)",s.style.height="100vh",s.style.overflow="hidden"}u=!0}}function i(){p()}function p(e){var t=e?document.getElementById(e):c[d],n=c.indexOf(t),s=m(n);t.style.WebkitTransform="translate3d(0, 0, 0)",t.style.transform="translate3d(0, 0, 0)",t.style.opacity=1;for(var a=0,r=s.length;a<r;++a){var i=c[s[a]];i.style.WebkitTransform="translate3d(0, 100%, 0)",i.style.transform="translate3d(0, 100%, 0)",i.style.height="unset",i.style.overflow="visible"}e&&(d=n),classie.remove(f,"menu-button--open"),classie.remove(v,"navbar-nav--open"),o(t,function(){t.style.height="unset",t.style.overflow="visible",classie.remove(l,"pages-stack--open"),y(),u=!1})}function m(e){var t=d+1<r?d+1:0,n=d+2<r?d+2:1,s=[];return e!=d&&s.push(d),e!=t&&s.push(t),e!=n&&s.push(n),s}y(),f.addEventListener("click",n),t.forEach(function(e){var t=e.getAttribute("href").slice(1);e.addEventListener("click",function(e){e.preventDefault(),p(t)})}),document.addEventListener("keydown",function(e){u&&27===(e.keyCode||e.which)&&i()}),e.openPageNoTransition=function(e){var t=e?document.getElementById(e):c[d],n=c.indexOf(t);m(n);t.style.WebkitTransform="translate3d(0, 0, 0)",t.style.transform="translate3d(0, 0, 0)",t.style.opacity=1,t.style.height="unset",t.style.overflow="visible",classie.remove(t,"page--inactive"),e&&(d=n),y()}}(window);