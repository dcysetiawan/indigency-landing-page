/*! For license information please see EaselPlugin.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function t(){return"undefined"!=typeof window}function i(){return T||t()&&(T=window.gsap)&&T.registerPlugin&&T}function z(){return o||r&&r.createjs||r||{}}function j(e){console.warn(e)}function I(e){var t=e.getBounds&&e.getBounds();t||(t=e.nominalBounds||{x:0,y:0,width:100,height:100},e.setBounds&&e.setBounds(t.x,t.y,t.width,t.height)),e.cache&&e.cache(t.x,t.y,t.width,t.height),j("EaselPlugin: for filters to display in EaselJS, you must call the object's cache() method first. GSAP attempted to use the target's getBounds() for the cache but that may not be completely accurate. "+e)}function D(e,t){if(!(e instanceof Array&&t instanceof Array))return t;for(var i,r,o=[],l=0,n=0;n<4;n++){for(i=0;i<5;i++)r=4===i?e[l+4]:0,o[l+i]=e[l]*t[i]+e[l+1]*t[i+5]+e[l+2]*t[i+10]+e[l+3]*t[i+15]+r;l+=5}return o}function k(e){T=e||i(),t()&&(r=window),T&&(G=1)}var T,G,r,o,q,H,K="redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier,redOffset,greenOffset,blueOffset,alphaOffset".split(","),L=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],Q=.212671,R=.71516,U=.072169,l={version:"3.11.2",name:"easel",init:function(e,t,i,r,o){var l,n,s,a,u,d;for(l in G||(k(),T||j("Please gsap.registerPlugin(EaselPlugin)")),this.target=e,t)if(a=t[l],"colorFilter"===l||"tint"===l||"tintAmount"===l||"exposure"===l||"brightness"===l){if(!n){{f=void 0;c=void 0;p=void 0;w=void 0;h=void 0;v=void 0;x=void 0;g=void 0;b=void 0;M=void 0;m=void 0;var f=e;var c=t.colorFilter||t;var p=this;(q=q||z().ColorFilter)||j("EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.");for(var h,v,g,b,M=f.filters||[],m=M.length;m--;)if(M[m]instanceof q){h=M[m];break}if(h||(h=new q,M.push(h),f.filters=M),v=h.clone(),null!=c.tint)w=T.utils.splitColor(c.tint),x=null!=c.tintAmount?+c.tintAmount:1,v.redOffset=w[0]*x,v.greenOffset=w[1]*x,v.blueOffset=w[2]*x,v.redMultiplier=v.greenMultiplier=v.blueMultiplier=1-x;else for(g in c)"exposure"!==g&&"brightness"!==g&&(v[g]=+c[g]);for(null!=c.exposure?(v.redOffset=v.greenOffset=v.blueOffset=255*(c.exposure-1),v.redMultiplier=v.greenMultiplier=v.blueMultiplier=1):null!=c.brightness&&(x=c.brightness-1,v.redOffset=v.greenOffset=v.blueOffset=0<x?255*x:0,v.redMultiplier=v.greenMultiplier=v.blueMultiplier=1-Math.abs(x)),m=8;m--;)h[g=K[m]]!==v[g]&&(b=p.add(h,g,h[g],v[g],0,0,0,0,0,1))&&(b.op="easel_colorFilter");p._props.push("easel_colorFilter"),f.cacheID||I(f)}n=!0}}else if("saturation"===l||"contrast"===l||"hue"===l||"colorize"===l||"colorizeAmount"===l){if(!s){{w=void 0;x=void 0;y=void 0;O=void 0;F=void 0;N=void 0;P=void 0;B=void 0;J=void 0;f=void 0;A=void 0;_=void 0;C=void 0;E=void 0;S=void 0;void 0;void 0;void 0;void 0;_=void 0;x=void 0;void 0;var w=e;var x=t.colorMatrixFilter||t;var y=this;(H=H||z().ColorMatrixFilter)||j("EaselPlugin: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.");for(var O,F,N,P,_,A,C,E,S,B=w.filters||[],J=B.length;-1<--J;)if(B[J]instanceof H){N=B[J];break}for(N||(N=new H(L.slice()),B.push(N),w.filters=B),F=N.matrix,O=L.slice(),null!=x.colorize&&(_=O,A=x.colorize,f=Number(x.colorizeAmount),isNaN(f)&&(f=1),A=T.utils.splitColor(A),C=A[0]/255,E=A[1]/255,A=A[2]/255,O=D([(S=1-f)+f*C*Q,f*C*R,f*C*U,0,0,f*E*Q,S+f*E*R,f*E*U,0,0,f*A*Q,f*A*R,S+f*A*U,0,0,0,0,0,1,0],_)),null!=x.contrast&&(C=O,E=Number(x.contrast),O=isNaN(E)?C:D([E+=.01,0,0,0,128*(1-E),0,E,0,0,128*(1-E),0,0,E,0,128*(1-E),0,0,0,1,0],C)),null!=x.hue&&(O=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var i=Math.cos(t),t=Math.sin(t);return D([Q+i*(1-Q)+t*-Q,R+i*-R+t*-R,U+i*-U+t*(1-U),0,0,Q+i*-Q+.143*t,R+i*(1-R)+.14*t,U+i*-U+-.283*t,0,0,Q+i*-Q+t*-(1-Q),R+i*-R+t*R,U+i*(1-U)+t*U,0,0,0,0,0,1,0,0,0,0,0,1],e)}(O,Number(x.hue))),null!=x.saturation&&(S=O,f=Number(x.saturation),O=isNaN(f)?S:D([(_=(A=1-f)*Q)+f,x=A*R,A=A*U,0,0,_,x+f,A,0,0,_,x,A+f,0,0,0,0,0,1,0],S)),J=O.length;-1<--J;)O[J]!==F[J]&&(P=y.add(F,J,F[J],O[J],0,0,0,0,0,1))&&(P.op="easel_colorMatrixFilter");y._props.push("easel_colorMatrixFilter"),w.cacheID||I(),y._matrix=F}s=!0}}else if("frame"===l){if("string"==typeof a&&"="!==a.charAt(1)&&(u=e.labels))for(d=0;d<u.length;d++)u[d].label===a&&(a=u[d].position);(E=this.add(e,"gotoAndStop",e.currentFrame,a,r,o,Math.round,0,0,1))&&(E.op=l)}else null!=e[l]&&this.add(e,l,"get",a)},render:function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next;t.target.cacheID&&t.target.updateCache()},register:k,registerCreateJS:function(e){o=e}};i()&&T.registerPlugin(l),e.EaselPlugin=l,e.default=l,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default});