/*! For license information please see PixiPlugin.min.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t=t||self).window=t.window||{})}(this,function(t){"use strict";function i(){return"undefined"!=typeof window}function o(){return r||i()&&(r=window.gsap)&&r.registerPlugin&&r}function n(t){return"function"==typeof t}function s(t,i){for(var o,r,e=[],n=0,s=0;s<4;s++){for(o=0;o<5;o++)r=4===o?t[n+4]:0,e[n+o]=t[n]*i[o]+t[n+1]*i[o+5]+t[n+2]*i[o+10]+t[n+3]*i[o+15]+r;n+=5}return e}function P(t,i){var o=1-i,r=o*f,e=o*h,o=o*d;return s([r+i,e,o,0,0,r,e+i,o,0,0,r,e,o+i,0,0,0,0,0,1,0],t)}function z(t,i,o){var i=a(i),r=i[0]/255,e=i[1]/255,i=i[2]/255,n=1-o;return s([n+o*r*f,o*r*h,o*r*d,0,0,o*e*f,n+o*e*h,o*e*d,0,0,o*i*f,o*i*h,n+o*i*d,0,0,0,0,0,1,0],t)}function M(t,i){i*=Math.PI/180;var o=Math.cos(i),i=Math.sin(i);return s([f+o*(1-f)+i*-f,h+o*-h+i*-h,d+o*-d+i*(1-d),0,0,f+o*-f+.143*i,h+o*(1-h)+.14*i,d+o*-d+-.283*i,0,0,f+o*-f+i*-(1-f),h+o*-h+i*h,d+o*(1-d)+i*d,0,0,0,0,0,1,0,0,0,0,0,1],t)}function y(t,i){return s([i,0,0,0,.5*(1-i),0,i,0,0,.5*(1-i),0,0,i,0,.5*(1-i),0,0,0,1,0],t)}function A(t,i){var o,r=D.filters[i],e=t.filters||[],n=e.length;for(r||(o=i+" not found. PixiPlugin.registerPIXI(PIXI)",console.warn(o));-1<--n;)if(e[n]instanceof r)return e[n];return o=new r,"BlurFilter"===i&&(o.blur=0),e.push(o),t.filters=e,o}function I(t,i,o,r){i.add(o,t,o[t],r[t]),i._props.push(t)}function _(t,i){var o=new D.filters.ColorMatrixFilter;return o.matrix=i,o.brightness(t,!0),o.matrix}function l(t,i){var o=i.t,r=i.p,e=i.color;(0,i.set)(o,r,e[0]<<16|e[1]<<8|e[2])}function F(t,i){i=i.g;i&&(i.dirty++,i.clearDirty++)}function C(t,i){i.t.visible=!!i.t.alpha}function X(t,i,o,r){var e=t[i],e=a(n(e)?t[i.indexOf("set")||!n(t["get"+i.substr(3)])?i:"get"+i.substr(3)]():e),o=a(o);r._pt=new Y(r._pt,t,i,0,0,l,{t:t,p:i,color:e,set:u(t,i)}),r.add(e,0,e[0],o[0]),r.add(e,1,e[1],o[1]),r.add(e,2,e[2],o[2])}function O(t){return"string"==typeof t}function S(t,i){return i.set(i.t,i.p,1===t?i.e:Math.round(1e5*(i.s+i.c*t))/1e5,i)}function j(){i()&&(e=window,r=o(),D=D||e.PIXI,k=D&&D.VERSION&&"4"===D.VERSION.charAt(0),a=function(t){return r.utils.splitColor("0x"===(t+"").substr(0,2)?"#"+t.substr(2):t)})}for(var r,e,a,D,Y,u,k,c,R=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],f=.212671,h=.71516,d=.072169,B={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},V={tint:1,lineColor:1,fillColor:1},p="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),E={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},G={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},N=Math.PI/180,g=0;g<p.length;g++)c=p[g],E[c+"X"]=c,E[c+"Y"]=c;var b={version:"3.11.2",name:"pixi",register:function(t,i,o){r=t,Y=o,u=i.getSetter,j()},registerPIXI:function(t){D=t},init:function(t,i){if(D||j(),!(D&&t instanceof D.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,r,e,n,s,l,a,u,c,f,h;for(e in i){if(x=E[e],o=i[e],x)h=~e.charAt(e.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[x],h,t[x][h],"skew"===x?O(h=o)&&"="===h.charAt(1)?h.substr(0,2)+parseFloat(h.substr(2))*N:h*N:o,0,0,0,0,0,1);else if("scale"===e||"anchor"===e||"pivot"===e||"tileScale"===e)this.add(t[e],"x",t[e].x,o),this.add(t[e],"y",t[e].y,o);else if("rotation"===e||"angle"===e)x=this,a=(h=t)[w=e],f=d=p=void 0,p=360*((c="rotation"===e)?N:1),d=O(u=o),f=d&&"="===u.charAt(1)?+(u.charAt(0)+"1"):0,c=parseFloat(f?u.substr(2):u)*(c?N:1),c=a+(f=f?c*f:c-a),d&&("short"===(d=u.split("_")[1])&&(f%=p)!=f%(p/2)&&(f+=f<0?p:-p),"cw"===d&&f<0?f=(f+1e10*p)%p-~~(f/p)*p:"ccw"===d&&0<f&&(f=(f-1e10*p)%p-~~(f/p)*p)),x._pt=u=new Y(x._pt,h,w,a,f,S),u.e=c;else if(G[e]){if(!r){{d=void 0;p=void 0;g=void 0;b=void 0;v=void 0;m=void 0;x=void 0;d=void 0;w=void 0;var d=t;var p=i.colorMatrixFilter||i;var g=this;var b,v,x=A(d,"ColorMatrixFilter"),d=d._gsColorMatrixFilter=d._gsColorMatrixFilter||function(t){var i,o={};for(i in t)o[i]=t[i];return o}(B),w=p.combineCMF&&!("colorMatrixFilter"in p&&!p.colorMatrixFilter),m=x.matrix;p.resolution&&(x.resolution=p.resolution),p.matrix&&p.matrix.length===m.length?(v=p.matrix,1!==d.contrast&&I("contrast",g,d,B),d.hue&&I("hue",g,d,B),1!==d.brightness&&I("brightness",g,d,B),d.colorizeAmount&&(I("colorize",g,d,B),I("colorizeAmount",g,d,B)),1!==d.saturation&&I("saturation",g,d,B)):(v=R.slice(),null!=p.contrast?(v=y(v,+p.contrast),I("contrast",g,d,p)):1!==d.contrast&&(w?v=y(v,d.contrast):I("contrast",g,d,B)),null!=p.hue?(v=M(v,+p.hue),I("hue",g,d,p)):d.hue&&(w?v=M(v,d.hue):I("hue",g,d,B)),null!=p.brightness?(v=_(+p.brightness,v),I("brightness",g,d,p)):1!==d.brightness&&(w?v=_(d.brightness,v):I("brightness",g,d,B)),null!=p.colorize?(p.colorizeAmount="colorizeAmount"in p?+p.colorizeAmount:1,v=z(v,p.colorize,p.colorizeAmount),I("colorize",g,d,p),I("colorizeAmount",g,d,p)):d.colorizeAmount&&(w?v=z(v,d.colorize,d.colorizeAmount):(I("colorize",g,d,B),I("colorizeAmount",g,d,B))),null!=p.saturation?(v=P(v,+p.saturation),I("saturation",g,d,p)):1!==d.saturation&&(w?v=P(v,d.saturation):I("saturation",g,d,B))),b=v.length;for(;-1<--b;)v[b]!==m[b]&&g.add(m,b,m[b],v[b],"colorMatrixFilter");g._props.push("colorMatrixFilter")}r=!0}}else if("blur"===e||"blurX"===e||"blurY"===e||"blurPadding"===e){if(a=A(t,"BlurFilter"),this.add(a,e,a[e],o),0!==i.blurPadding)for(n=i.blurPadding||2*Math.max(a[e],o),s=t.filters.length;-1<--s;)t.filters[s].padding=Math.max(t.filters[s].padding,n)}else if(V[e])if(("lineColor"===e||"fillColor"===e)&&t instanceof D.Graphics)for(l=(t.geometry||t).graphicsData,this._pt=new Y(this._pt,t,e,0,0,F,{g:t.geometry||t}),s=l.length;-1<--s;)X(k?l[s]:l[s][e.substr(0,4)+"Style"],k?e:"color",o,this);else X(t,e,o,this);else"autoAlpha"===e?(this._pt=new Y(this._pt,t,"visible",0,0,C),this.add(t,"alpha",t.alpha,o),this._props.push("alpha","visible")):"resolution"!==e&&this.add(t,e,"get",o);this._props.push(e)}}};o()&&r.registerPlugin(b),t.PixiPlugin=b,t.default=b,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default});