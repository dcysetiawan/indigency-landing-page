!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t||self).Lenis=e()}(this,function(){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,i){e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1})}function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i,o=arguments[e];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}function n(t,e){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function t(){}t.prototype={on:function(t,e,i){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var o=this;function n(){o.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),o=0,n=i.length;o<n;o++)i[o].fn.apply(i[o].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),o=i[t],n=[];if(o&&e)for(var r=0,s=o.length;r<s;r++)o[r].fn!==e&&o[r].fn._!==e&&n.push(o[r]);return n.length?i[t]=n:delete i[t],this}};var e,s,l,h,a,c,u,d,p,f,v=t,w=(t.TinyEmitter=v,e=0,g.prototype={on:function(t,e,i){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var o=this;function n(){o.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),o=0,n=i.length;o<n;o++)i[o].fn.apply(i[o].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),o=i[t],n=[];if(o&&e)for(var r=0,s=o.length;r<s;r++)o[r].fn!==e&&o[r].fn._!==e&&n.push(o[r]);return n.length?i[t]=n:delete i[t],this}},(s=g).TinyEmitter=g,h="virtualscroll",a=y("options"),c=y("el"),u=y("emitter"),d=y("event"),p=y("touchStart"),f=y("bodyTouchAction"),(S=b.prototype)._notify=function(t){var e=m(this,d)[d];e.x+=e.deltaX,e.y+=e.deltaY,m(this,u)[u].emit(h,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},S._bind=function(){l.hasWheelEvent&&m(this,c)[c].addEventListener("wheel",this._onWheel,this.listenerOptions),l.hasMouseWheelEvent&&m(this,c)[c].addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),l.hasTouch&&m(this,a)[a].useTouch&&(m(this,c)[c].addEventListener("touchstart",this._onTouchStart,this.listenerOptions),m(this,c)[c].addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),l.hasPointer&&l.hasTouchWin&&(m(this,f)[f]=document.body.style.msTouchAction,document.body.style.msTouchAction="none",m(this,c)[c].addEventListener("MSPointerDown",this._onTouchStart,!0),m(this,c)[c].addEventListener("MSPointerMove",this._onTouchMove,!0)),l.hasKeyDown&&m(this,a)[a].useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},S._unbind=function(){l.hasWheelEvent&&m(this,c)[c].removeEventListener("wheel",this._onWheel),l.hasMouseWheelEvent&&m(this,c)[c].removeEventListener("mousewheel",this._onMouseWheel),l.hasTouch&&(m(this,c)[c].removeEventListener("touchstart",this._onTouchStart),m(this,c)[c].removeEventListener("touchmove",this._onTouchMove)),l.hasPointer&&l.hasTouchWin&&(document.body.style.msTouchAction=m(this,f)[f],m(this,c)[c].removeEventListener("MSPointerDown",this._onTouchStart,!0),m(this,c)[c].removeEventListener("MSPointerMove",this._onTouchMove,!0)),l.hasKeyDown&&m(this,a)[a].useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},S.on=function(t,e){m(this,u)[u].on(h,t,e);t=m(this,u)[u].e;t&&t[h]&&1===t[h].length&&this._bind()},S.off=function(t,e){m(this,u)[u].off(h,t,e);t=m(this,u)[u].e;(!t[h]||t[h].length<=0)&&this._unbind()},S.destroy=function(){m(this,u)[u].off(),this._unbind()},b);function y(t){return"__private_"+e+++"_"+t}function m(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t;throw new TypeError("attempted to use private field on non-instance")}function g(){}function b(t){var n=this;Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),this._onWheel=function(t){var e=m(n,a)[a],i=m(n,d)[d];i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,l.isFirefox&&1===t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,n._notify(t)},this._onMouseWheel=function(t){var e=m(n,d)[d];e.deltaX=t.wheelDeltaX||0,e.deltaY=t.wheelDeltaY||t.wheelDelta,n._notify(t)},this._onTouchStart=function(t){t=t.targetTouches?t.targetTouches[0]:t;m(n,p)[p].x=t.pageX,m(n,p)[p].y=t.pageY},this._onTouchMove=function(t){var e=m(n,a)[a],i=(e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault(),m(n,d)[d]),o=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(o.pageX-m(n,p)[p].x)*e.touchMultiplier,i.deltaY=(o.pageY-m(n,p)[p].y)*e.touchMultiplier,m(n,p)[p].x=o.pageX,m(n,p)[p].y=o.pageY,n._notify(t)},this._onKeyDown=function(t){var e=m(n,d)[d],i=(e.deltaX=e.deltaY=0,window.innerHeight-40);switch(t.keyCode){case 37:case 38:e.deltaY=m(n,a)[a].keyStep;break;case 39:case 40:e.deltaY=-m(n,a)[a].keyStep;break;case 32:e.deltaY=i*(t.shiftKey?1:-1);break;default:return}n._notify(t)},m(this,c)[c]=window,t&&t.el&&(m(this,c)[c]=t.el,delete t.el),l=l||{hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in document,hasTouchWin:navigator.msMaxTouchPoints&&1<navigator.msMaxTouchPoints,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:-1<navigator.userAgent.indexOf("Firefox")},m(this,a)[a]=Object.assign({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",useKeyboard:!0,useTouch:!0},t),m(this,u)[u]=new s,m(this,d)[d]={y:0,x:0,deltaX:0,deltaY:0},m(this,p)[p]={x:null,y:null},m(this,f)[f]=null,void 0!==m(this,a)[a].passive&&(this.listenerOptions={passive:m(this,a)[a].passive})}function T(t,e){t%=e;return(0<e&&t<0||e<0&&0<t)&&(t+=e),t}var M,S,_=["duration","easing"],O=function(){function t(){}var e=t.prototype;return e.to=function(e,t){var i=this,t=void 0===t?{}:t,o=t.duration,o=void 0===o?1:o,n=t.easing,n=void 0===n?function(t){return t}:n,t=function(t,e){if(null==t)return{};for(var i,o={},n=Object.keys(t),r=0;r<n.length;r++)0<=e.indexOf(i=n[r])||(o[i]=t[i]);return o}(t,_);this.target=e,this.fromKeys=r({},t),this.toKeys=r({},t),this.keys=Object.keys(r({},t)),this.keys.forEach(function(t){i.fromKeys[t]=e[t]}),this.duration=o,this.easing=n,this.currentTime=0,this.isRunning=!0},e.stop=function(){this.isRunning=!1},e.raf=function(t){var i,o=this;this.isRunning&&(this.currentTime=Math.min(this.currentTime+t,this.duration),i=1<=this.progress?1:this.easing(this.progress),this.keys.forEach(function(t){var e=o.fromKeys[t];o.target[t]=e+(o.toKeys[t]-e)*i}),1===i&&this.stop())},i(t,[{key:"progress",get:function(){return this.currentTime/this.duration}}]),t}();return S=M=v,(v=E).prototype=Object.create(S.prototype),n(v.prototype.constructor=v,S),(v=E.prototype).start=function(){var t=this.wrapperNode;(t=this.wrapperNode===window?document.documentElement:t).classList.remove("lenis-stopped"),this.stopped=!1},v.stop=function(){var t=this.wrapperNode;(t=this.wrapperNode===window?document.documentElement:t).classList.add("lenis-stopped"),this.stopped=!0,this.animate.stop()},v.destroy=function(){var t;this.wrapperNode===window&&this.wrapperNode.removeEventListener("resize",this.onWindowResize),this.wrapperNode.removeEventListener("scroll",this.onScroll),this.virtualScroll.destroy(),null!=(t=this.wrapperObserver)&&t.disconnect(),this.contentObserver.disconnect()},v.raf=function(t){var e=t-(this.now||0);this.now=t,!this.stopped&&this.smooth&&(this.lastScroll=this.scroll,this.animate.raf(.001*e),this.scroll===this.targetScroll&&(this.lastScroll=this.scroll),this.isScrolling&&(this.setScroll(this.scroll),this.notify()),this.isScrolling=this.scroll!==this.targetScroll)},v.setScroll=function(t){t=this.infinite?T(t,this.limit):t;"horizontal"===this.direction?this.wrapperNode.scrollTo(t,0):this.wrapperNode.scrollTo(0,t)},v.notify=function(){var t=this.infinite?T(this.scroll,this.limit):this.scroll;this.emit("scroll",{scroll:t,limit:this.limit,velocity:this.velocity,direction:0===this.velocity?0:0<this.velocity?1:-1,progress:t/this.limit})},v.scrollTo=function(t,e){var i,e=void 0===e?{}:e,o=e.offset,o=void 0===o?0:o,n=e.immediate,n=void 0!==n&&n,r=e.duration,r=void 0===r?this.duration:r,e=e.easing,e=void 0===e?this.easing:e;if(null!=t&&!this.stopped){if("number"==typeof t)l=t;else if("top"===t||"#top"===t)l=0;else if("bottom"===t)l=this.limit;else{if("string"==typeof t)i=document.querySelector(t);else{if(null==t||!t.nodeType)return;i=t}if(!i)return;var t=0,s=(this.wrapperNode!==window&&(s=this.wrapperNode.getBoundingClientRect(),t="horizontal"===this.direction?s.left:s.top),i.getBoundingClientRect()),l=("horizontal"===this.direction?s.left:s.top)+this.scroll-t}l+=o,this.targetScroll=this.infinite?l:Math.max(0,Math.min(l,this.limit)),!this.smooth||n?(this.animate.stop(),this.scroll=this.lastScroll=this.targetScroll,this.setScroll(this.targetScroll)):this.animate.to(this,{duration:r,easing:e,scroll:this.targetScroll})}},i(E,[{key:"scrollProperty",get:function(){return this.wrapperNode===window?"horizontal"===this.direction?"scrollX":"scrollY":"horizontal"===this.direction?"scrollLeft":"scrollTop"}},{key:"limit",get:function(){return"horizontal"===this.direction?this.contentWidth-this.wrapperWidth:this.contentHeight-this.wrapperHeight}},{key:"velocity",get:function(){return this.scroll-this.lastScroll}}]),E;function E(t){var n,t=void 0===t?{}:t,e=t.duration,e=void 0===e?1.2:e,i=t.easing,i=void 0===i?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:i,o=t.smooth,o=void 0===o||o,r=t.mouseMultiplier,r=void 0===r?1:r,s=t.smoothTouch,s=void 0!==s&&s,l=t.touchMultiplier,l=void 0===l?2:l,h=t.direction,h=void 0===h?"vertical":h,a=t.gestureDirection,a=void 0===a?"vertical":a,c=t.infinite,c=void 0!==c&&c,u=t.wrapper,u=void 0===u?window:u,t=t.content,t=void 0===t?document.body:t,r=((n=M.call(this)||this).onWindowResize=function(){n.wrapperWidth=window.innerWidth,n.wrapperHeight=window.innerHeight},n.onWrapperResize=function(t){var t=t[0];t&&(t=t.contentRect,n.wrapperWidth=t.width,n.wrapperHeight=t.height)},n.onContentResize=function(t){var t=t[0];t&&(t=t.contentRect,n.contentWidth=t.width,n.contentHeight=t.height)},n.onVirtualScroll=function(t){var e,i=t.deltaY,o=t.deltaX,t=t.originalEvent;"vertical"===n.gestureDirection&&0===i||"horizontal"===n.gestureDirection&&0===o||(e=!!t.composedPath().find(function(t){return t.hasAttribute&&t.hasAttribute("data-lenis-prevent")}),t.ctrlKey||e||(n.smooth=t.changedTouches?n.smoothTouch:n.options.smooth,n.stopped?t.preventDefault():n.smooth&&4!==t.buttons&&(n.smooth&&t.preventDefault(),n.targetScroll-="both"===n.gestureDirection?o+i:"horizontal"===n.gestureDirection?o:i,n.scrollTo(n.targetScroll))))},n.onScroll=function(t){n.isScrolling&&n.smooth||(n.targetScroll=n.scroll=n.lastScroll=n.wrapperNode[n.scrollProperty],n.notify())},window.lenisVersion="0.2.28",n.options={duration:e,easing:i,smooth:o,mouseMultiplier:r,smoothTouch:s,touchMultiplier:l,direction:h,gestureDirection:a,infinite:c,wrapper:u,content:t},n.duration=e,n.easing=i,n.smooth=o,n.mouseMultiplier=r,n.smoothTouch=s,n.touchMultiplier=l,n.direction=h,n.gestureDirection=a,n.infinite=c,n.wrapperNode=u,n.contentNode=t,n.wrapperNode.addEventListener("scroll",n.onScroll),n.wrapperNode===window?(n.wrapperNode.addEventListener("resize",n.onWindowResize),n.onWindowResize()):(n.wrapperHeight=n.wrapperNode.offsetHeight,n.wrapperWidth=n.wrapperNode.offsetWidth,n.wrapperObserver=new ResizeObserver(n.onWrapperResize),n.wrapperObserver.observe(n.wrapperNode)),n.contentHeight=n.contentNode.offsetHeight,n.contentWidth=n.contentNode.offsetWidth,n.contentObserver=new ResizeObserver(n.onContentResize),n.contentObserver.observe(n.contentNode),n.targetScroll=n.scroll=n.lastScroll=n.wrapperNode[n.scrollProperty],n.animate=new O,(null==(e=navigator)||null==(i=e.userAgentData)?void 0:i.platform)||(null==(o=navigator)?void 0:o.platform)||"unknown");return n.virtualScroll=new w({el:n.wrapperNode,firefoxMultiplier:50,mouseMultiplier:n.mouseMultiplier*(r.includes("Win")||r.includes("Linux")?.84:.4),touchMultiplier:n.touchMultiplier,passive:!1,useKeyboard:!1,useTouch:!0}),n.virtualScroll.on(n.onVirtualScroll),n}});